<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#1B1B1B">
    <meta data-react-helmet="true" property="og:image" content="https://www.onlineking24.ga/files/IMG_20230413_130309.jpg"/>
   <meta data-react-helmet="true" property="twitter:image" content="https://www.onlineking24.ga/files/IMG_20230413_130309.jpg"/>
    <title>Onlineking24 SMP</title>
      <!-- Start of HubSpot Embed Code -->
  <script type="text/javascript" id="hs-script-loader" async defer src="//js-na1.hs-scripts.com/22175898.js"></script>
<!-- End of HubSpot Embed Code -->
    <link rel="icon" type="image/png" href="../files/20220616_121236.png">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
<link rel="stylesheet" href="files/main_live_status.css" />
<link rel="stylesheet" href="files/style.css" />
<link rel="stylesheet" href="files/css.css" />
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" charset="utf-8"></script>
          <script type="text/javascript">
    $(document).ready(function(){
      //jquery for toggle sub menus
      $('.sub-btn').click(function(){
        $(this).next('.sub-menu').slideToggle();
        $(this).find('.dropdown').toggleClass('rotate');
      });
      //jquery for expand and collapse the sidebar
      $('.menu-btn').click(function(){
        $('.side-bar').addClass('active');
        $('.menu-btn').css("visibility", "hidden");
      });
      $('.close-btn').click(function(){
        $('.side-bar').removeClass('active');
        $('.menu-btn').css("visibility", "visible");
      });
    });
    </script>
        <script>
    var previous = null;
    var current = null;
    setInterval(function() {
        $.getJSON("https://api.mcsrvstat.us/bedrock/2/play.onlineking24.us.to:30490", function(json) {
            current = JSON.stringify(json);            
            if (previous && current && previous !== current) {
                console.log('refresh');
                location.reload();
            }
            previous = current;
        });                       
    }, 5000);   
</script>
<script type="text/javascript">
  let url = "play.onlineking24.us.to:30490";
  $(document).ready(() => {
      $.getJSON("https://api.mcsrvstat.us/bedrock/2/" + url, (status) => {
function updateElementClass() {
  var myElement = $("#myElement");
  var myData1 = $("#myData1");
  var myData2 = $("#myData2");
  var myData3 = $("#myData3");
  var myData4 = $("#myData4");
  var myData5 = $("#myData5");
  var myData6 = $("#myData6");
  var myData7 = $("#myData7");
  var myData8 = $("#myData8");
  var myData9 = $("#myData9");
  
if (status.online) {
    myElement.removeClass("card text-bg-danger list mb-1").addClass("card text-bg-success list mb-1");
    myData1.removeClass("list-group-item list-group-item-danger list").addClass("list-group-item list-group-item-success list");
     myData2.removeClass("list-group-item list-group-item-danger list").addClass("list-group-item list-group-item-success list");
     myData3.removeClass("list-group-item list-group-item-danger list").addClass("list-group-item list-group-item-success list");
     myData4.removeClass("list-group-item list-group-item-danger list").addClass("list-group-item list-group-item-success list");
     myData5.removeClass("list-group-item list-group-item-danger list").addClass("list-group-item list-group-item-success list");
     myData6.removeClass("list-group-item list-group-item-danger list").addClass("list-group-item list-group-item-success list");   
      myData7.removeClass("list-group-item list-group-item-danger list").addClass("list-group-item list-group-item-success list");     
       myData8.removeClass("list-group-item list-group-item-danger list").addClass("list-group-item list-group-item-success list");     
       myData9.removeClass("list-group-item list-group-item-danger list").addClass("list-group-item list-group-item-success list");
    
     }
 else {
    myElement.removeClass("card text-bg-success list mb-1").addClass("card text-bg-danger list mb-1");
         myData1.removeClass("list-group-item list-group-item-success list").addClass("list-group-item list-group-item-danger list");
     myData2.removeClass("list-group-item list-group-item-success list").addClass("list-group-item list-group-item-danger list");
     myData3.removeClass("list-group-item list-group-item-success list").addClass("list-group-item list-group-item-danger list");
     myData4.removeClass("list-group-item list-group-item-success list").addClass("list-group-item list-group-item-danger list");
     myData5.removeClass("list-group-item list-group-item-success list").addClass("list-group-item list-group-item-danger list");
     myData6.removeClass("list-group-item list-group-item-success list").addClass("list-group-item list-group-item-danger list");   
      myData7.removeClass("list-group-item list-group-item-success list").addClass("list-group-item list-group-item-danger list");     
       myData8.removeClass("list-group-item list-group-item-success list").addClass("list-group-item list-group-item-danger list");     
       myData9.removeClass("list-group-item list-group-item-success list").addClass("list-group-item list-group-item-danger list");
}
}

updateElementClass();

setTimeout(function() {
  status= status; 
  updateElementClass();
}, 1);

         if (status.online) {
              $("#motd").append(status.motd.raw);
              $("#status").append("Online");
              $("#gamemode").append(status.gamemode);
              $("#hostname").append(status.hostname);
              $("#protocol").append(status.protocol);
              $("#ip").append(status.ip);
              $("#serverid").append(status.serverid);
              $("#port").append(status.port);
              $("#version").append(status.version);
              $("#players_num").append(status.players.online + "/" + status.players.max)
              $.each(status.players.list, function (index, player) {
              $("#players_list").append("<li>" + player + "</li>")
              });
          } else {
              $("#motd").append("n/a");
              $("#status").append("Offline");
              $("#gamemode").append("n/a");
              $("#version").append("n/a");
              $("#ip").append("n/a");
              $("#port").append("n/a");
              $("#serverid").append("n/a");
              $("#protocol").append("n/a");
              $("#hostname").append("n/a");
              $("#players_num").append("n/a");
          }
              $("body");
      });
  });

</script>
</head>
</head>
<body>
    <!-- Navbar  -->
    <nav class="navbar fixed-top navbar-expand-lg navbar-dark p-md-3">
          <br>
<div class="menu-btn">
      <i class="fas fa-bars"></i>
        <div class="collapse navbar-collapse" id="navbarNav">
          <div class="mx-auto"></div>
        </div>
      </div>
          </div>
    <div class="side-bar">
      <div class="close-btn">
        <i class="fas fa-times"></i>
      </div>

      <div class="menu">
        <div class="item"><a href="../"><i class="fas fa-home"></i>Home</a></div>
        <div class="item"><a href="../rules"><i class="fas fa-book"></i>Rules</a></div>
     <div class="item"><a href="../about"><i class="fas fa-info-circle"></i>About</a></div>
    <div class="item"><a href="../player_list"><i class="fas fa-users"></i>Members</a></div>
     <div class="item"><a href="../live_status"><i class="fas fa-desktop"></i>Live Status</a></div>
    </nav>
    
    
<div class="hero-image">
  <div class="hero-text">
  	<font face="Minercraftory" size="6px">Live Status</font>
<br><br>
<button onclick = "location.href='minecraft://?addExternalServer=OnlineKing24|play.onlineking24.us.to:30490" class="button-85" role="button">Join Now</button>
  </div>
</div>
<div class="container">
        <div class="row">
          <div class="col-lg-12 col-md-12 col-sm-12">
<br>

<div id="myElement" style="max: 18rem;">
  <div class="card-header"><span id="status">Server Status : </span></div>
<ul class="list-group">
	
<li id="myData1"><span id="players_num">Players : </span></li>
<li id="myData2"><span id="version">Version : </span></li>
<li id="myData3"><span id="gamemode">Gamemode :  </span></li>
<li id="myData4"><span id="protocol">Protocol Version : </span></li>
<li id="myData5"><span id="hostname">Hostname : </span></li>
<li id="myData6"><span id="ip">IP : </span></li>
<li id="myData7"><span id="port">Port : </span></li>
<li id="myData8"><span id="serverid">Server Id : </span></li>
<li id="myData9"><span id="motd">MOTD : </span></li>

</div>
